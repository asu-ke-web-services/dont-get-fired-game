{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":[]},"ignored":false,"code":"Tinytest.add('ReactiveDict - set to undefined', function (test) {\n  var dict = new ReactiveDict();\n  dict.set('foo', undefined);\n  test.equal(_.keys(dict.all()), ['foo']);\n  dict.setDefault('foo', 'bar');\n  test.equal(dict.get('foo'), undefined);\n});\n\nTinytest.add('ReactiveDict - setDefault', function (test) {\n  var dict = new ReactiveDict();\n  dict.set('A', 'blah');\n  dict.set('B', undefined);\n  dict.setDefault('A', 'default');\n  dict.setDefault('B', 'default');\n  dict.setDefault('C', 'default');\n  dict.setDefault('D', undefined);\n  test.equal(dict.all(), { A: 'blah', B: undefined,\n    C: 'default', D: undefined });\n});\n\nTinytest.add('ReactiveDict - all() works', function (test) {\n  var all = {},\n      dict = new ReactiveDict();\n  Tracker.autorun(function () {\n    all = dict.all();\n  });\n\n  test.equal(all, {});\n\n  dict.set('foo', 'bar');\n  Tracker.flush();\n  test.equal(all, { foo: 'bar' });\n\n  dict.set('blah', undefined);\n  Tracker.flush();\n  test.equal(all, { foo: 'bar', blah: undefined });\n});\n\nTinytest.add('ReactiveDict - clear() works', function (test) {\n  var dict = new ReactiveDict();\n  dict.set('foo', 'bar');\n\n  // Clear should not throw an error now\n  // See issue #5530\n  dict.clear();\n\n  dict.set('foo', 'bar');\n\n  var val, equals, equalsUndefined, all;\n  Tracker.autorun(function () {\n    val = dict.get('foo');\n  });\n  Tracker.autorun(function () {\n    equals = dict.equals('foo', 'bar');\n  });\n  Tracker.autorun(function () {\n    equalsUndefined = dict.equals('foo', undefined);\n  });\n  Tracker.autorun(function () {\n    all = dict.all();\n  });\n\n  test.equal(val, 'bar');\n  test.equal(equals, true);\n  test.equal(equalsUndefined, false);\n  test.equal(all, { foo: 'bar' });\n\n  dict.clear();\n  Tracker.flush();\n  test.isUndefined(val);\n  test.equal(equals, false);\n  test.equal(equalsUndefined, true);\n  test.equal(all, {});\n});\n\nTinytest.add('ReactiveDict - delete(key) works', function (test) {\n  var dict = new ReactiveDict();\n  dict.set('foo', 'bar');\n  dict.set('bar', 'foo');\n\n  dict.set('baz', 123);\n  test.equal(dict['delete']('baz'), true);\n  test.equal(dict['delete']('baz'), false);\n\n  var val, equals, equalsUndefined, all;\n\n  Tracker.autorun(function () {\n    val = dict.get('foo');\n  });\n  Tracker.autorun(function () {\n    equals = dict.equals('foo', 'bar');\n  });\n  Tracker.autorun(function () {\n    equalsUndefined = dict.equals('foo', undefined);\n  });\n  Tracker.autorun(function () {\n    all = dict.all();\n  });\n\n  test.equal(val, 'bar');\n  test.equal(equals, true);\n  test.equal(equalsUndefined, false);\n  test.equal(all, { foo: 'bar', bar: 'foo' });\n\n  var didRemove = dict['delete']('foo');\n  test.equal(didRemove, true);\n\n  Tracker.flush();\n\n  test.isUndefined(val);\n  test.equal(equals, false);\n  test.equal(equalsUndefined, true);\n  test.equal(all, { bar: 'foo' });\n\n  didRemove = dict['delete']('barfoobar');\n  test.equal(didRemove, false);\n});","ast":null,"map":{"version":3,"sources":["/packages/reactive-dict/reactive-dict-tests.js"],"names":[],"mappings":"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","file":"/packages/reactive-dict/reactive-dict-tests.js.map","sourcesContent":["Tinytest.add('ReactiveDict - set to undefined', function (test) {\n  var dict = new ReactiveDict;\n  dict.set('foo', undefined);\n  test.equal(_.keys(dict.all()), ['foo']);\n  dict.setDefault('foo', 'bar');\n  test.equal(dict.get('foo'), undefined);\n});\n\nTinytest.add('ReactiveDict - setDefault', function (test) {\n  var dict = new ReactiveDict;\n  dict.set('A', 'blah');\n  dict.set('B', undefined);\n  dict.setDefault('A', 'default');\n  dict.setDefault('B', 'default');\n  dict.setDefault('C', 'default');\n  dict.setDefault('D', undefined);\n  test.equal(dict.all(), {A: 'blah', B: undefined,\n                          C: 'default', D: undefined});\n});\n\nTinytest.add('ReactiveDict - all() works', function (test) {\n  var all = {}, dict = new ReactiveDict;\n  Tracker.autorun(function() {\n    all = dict.all();\n  });\n\n  test.equal(all, {});\n\n  dict.set('foo', 'bar');\n  Tracker.flush();\n  test.equal(all, {foo: 'bar'});\n\n  dict.set('blah', undefined);\n  Tracker.flush();\n  test.equal(all, {foo: 'bar', blah: undefined});\n});\n\n\nTinytest.add('ReactiveDict - clear() works', function (test) {\n  var dict = new ReactiveDict;\n  dict.set('foo', 'bar');\n\n  // Clear should not throw an error now\n  // See issue #5530\n  dict.clear();\n\n  dict.set('foo', 'bar');\n\n  var val, equals, equalsUndefined, all;\n  Tracker.autorun(function() {\n    val = dict.get('foo');\n  });\n  Tracker.autorun(function() {\n    equals = dict.equals('foo', 'bar');\n  });\n  Tracker.autorun(function() {\n    equalsUndefined = dict.equals('foo', undefined);\n  });\n  Tracker.autorun(function() {\n    all = dict.all();\n  });\n\n  test.equal(val, 'bar');\n  test.equal(equals, true);\n  test.equal(equalsUndefined, false);\n  test.equal(all, {foo: 'bar'});\n\n  dict.clear();\n  Tracker.flush();\n  test.isUndefined(val);\n  test.equal(equals, false);\n  test.equal(equalsUndefined, true);\n  test.equal(all, {});\n});\n\nTinytest.add('ReactiveDict - delete(key) works', function (test) {\n  var dict = new ReactiveDict;\n  dict.set('foo', 'bar');\n  dict.set('bar', 'foo');\n\n  dict.set('baz', 123);\n  test.equal(dict.delete('baz'), true);\n  test.equal(dict.delete('baz'), false);\n\n  var val, equals, equalsUndefined, all;\n\n  Tracker.autorun(function() {\n    val = dict.get('foo');\n  });\n  Tracker.autorun(function() {\n    equals = dict.equals('foo', 'bar');\n  });\n  Tracker.autorun(function() {\n    equalsUndefined = dict.equals('foo', undefined);\n  });\n  Tracker.autorun(function() {\n    all = dict.all();\n  });\n\n  test.equal(val, 'bar');\n  test.equal(equals, true);\n  test.equal(equalsUndefined, false);\n  test.equal(all, {foo: 'bar', bar: 'foo'});\n\n  var didRemove = dict.delete('foo');\n  test.equal(didRemove, true);\n\n  Tracker.flush();\n\n  test.isUndefined(val);\n  test.equal(equals, false);\n  test.equal(equalsUndefined, true);\n  test.equal(all, {bar: 'foo'});\n\n  didRemove = dict.delete('barfoobar');\n  test.equal(didRemove, false);\n});\n"]},"hash":"cd816b2b3f5d76704225c90cf08109ef9399aef8"}
