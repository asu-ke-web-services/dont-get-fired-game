[{"type":"js","data":"(function () {\n\n/* Imports */\nvar process = Package.meteor.process;\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar check = Package.check.check;\nvar Match = Package.check.Match;\n\n/* Package-scope variables */\nvar Babel, BabelCompiler;\n\n(function(){\n\n////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                        //\n// packages/babel-compiler/babel.js                                                       //\n//                                                                                        //\n////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                          //\nvar meteorBabel = Npm.require('meteor-babel');                                            // 1\n                                                                                          // 2\nfunction validateExtraFeatures(extraFeatures) {                                           // 3\n  if (extraFeatures) {                                                                    // 4\n    check(extraFeatures, {                                                                // 5\n      // Modify options to enable ES2015 module syntax.                                   // 6\n      modules: Match.Optional(Boolean),                                                   // 7\n      // Modify options to enable async/await syntax powered by Fibers.                   // 8\n      meteorAsyncAwait: Match.Optional(Boolean),                                          // 9\n      // Modify options to enable async/await syntax powered by Promises and Regenerator.\n      asyncAwait: Match.Optional(Boolean),                                                // 11\n      // Modify options to enable React/JSX syntax.                                       // 12\n      react: Match.Optional(Boolean),                                                     // 13\n      // Improve compatibility in older versions of Internet Explorer.                    // 14\n      jscript: Match.Optional(Boolean)                                                    // 15\n    });                                                                                   // 16\n  }                                                                                       // 17\n}                                                                                         // 18\n                                                                                          // 19\n/**                                                                                       // 20\n * Returns a new object containing default options appropriate for                        // 21\n */                                                                                       // 22\nfunction getDefaultOptions(extraFeatures) {                                               // 23\n  validateExtraFeatures(extraFeatures);                                                   // 24\n                                                                                          // 25\n  // See https://github.com/meteor/babel/blob/master/options.js for more                  // 26\n  // information about what the default options are.                                      // 27\n  var options = meteorBabel.getDefaultOptions(extraFeatures);                             // 28\n                                                                                          // 29\n  // The sourceMap option should probably be removed from the default                     // 30\n  // options returned by meteorBabel.getDefaultOptions.                                   // 31\n  delete options.sourceMap;                                                               // 32\n                                                                                          // 33\n  return options;                                                                         // 34\n}                                                                                         // 35\n                                                                                          // 36\nBabel = {                                                                                 // 37\n  getDefaultOptions: getDefaultOptions,                                                   // 38\n                                                                                          // 39\n  validateExtraFeatures: validateExtraFeatures,                                           // 40\n                                                                                          // 41\n  compile: function (source, options) {                                                   // 42\n    options = options || getDefaultOptions();                                             // 43\n    return meteorBabel.compile(source, options);                                          // 44\n  },                                                                                      // 45\n                                                                                          // 46\n  // Provided for backwards compatibility; prefer Babel.compile.                          // 47\n  transformMeteor: function (source, extraOptions) {                                      // 48\n    var options = getDefaultOptions();                                                    // 49\n                                                                                          // 50\n    if (extraOptions) {                                                                   // 51\n      if (extraOptions.extraWhitelist) {                                                  // 52\n        options.whitelist.push.apply(                                                     // 53\n          options.whitelist,                                                              // 54\n          extraOptions.extraWhitelist                                                     // 55\n        );                                                                                // 56\n      }                                                                                   // 57\n                                                                                          // 58\n      for (var key in extraOptions) {                                                     // 59\n        if (key !== \"extraWhitelist\" &&                                                   // 60\n            hasOwnProperty.call(extraOptions, key)) {                                     // 61\n          options[key] = extraOptions[key];                                               // 62\n        }                                                                                 // 63\n      }                                                                                   // 64\n    }                                                                                     // 65\n                                                                                          // 66\n    return meteorBabel.compile(source, options);                                          // 67\n  },                                                                                      // 68\n                                                                                          // 69\n  setCacheDir: function (cacheDir) {                                                      // 70\n    meteorBabel.setCacheDir(cacheDir);                                                    // 71\n  }                                                                                       // 72\n};                                                                                        // 73\n                                                                                          // 74\n////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function(){\n\n////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                        //\n// packages/babel-compiler/babel-compiler.js                                              //\n//                                                                                        //\n////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                          //\n/**                                                                                       // 1\n * A compiler that can be instantiated with features and used inside                      // 2\n * Plugin.registerCompiler                                                                // 3\n * @param {Object} extraFeatures The same object that getDefaultOptions takes             // 4\n */                                                                                       // 5\nBabelCompiler = function BabelCompiler(extraFeatures) {                                   // 6\n  Babel.validateExtraFeatures(extraFeatures);                                             // 7\n  this.extraFeatures = extraFeatures;                                                     // 8\n};                                                                                        // 9\n                                                                                          // 10\nvar BCp = BabelCompiler.prototype;                                                        // 11\nvar excludedFileExtensionPattern = /\\.es5\\.js$/i;                                         // 12\n                                                                                          // 13\nBCp.processFilesForTarget = function (inputFiles) {                                       // 14\n  var self = this;                                                                        // 15\n                                                                                          // 16\n  inputFiles.forEach(function (inputFile) {                                               // 17\n    var source = inputFile.getContentsAsString();                                         // 18\n    var packageName = inputFile.getPackageName();                                         // 19\n    var inputFilePath = inputFile.getPathInPackage();                                     // 20\n    var outputFilePath = inputFilePath;                                                   // 21\n    var fileOptions = inputFile.getFileOptions();                                         // 22\n    var toBeAdded = {                                                                     // 23\n      sourcePath: inputFilePath,                                                          // 24\n      path: outputFilePath,                                                               // 25\n      data: source,                                                                       // 26\n      hash: inputFile.getSourceHash(),                                                    // 27\n      sourceMap: null,                                                                    // 28\n      bare: !! fileOptions.bare                                                           // 29\n    };                                                                                    // 30\n                                                                                          // 31\n    // If you need to exclude a specific file within a package from Babel                 // 32\n    // compilation, pass the { transpile: false } options to api.addFiles                 // 33\n    // when you add that file.                                                            // 34\n    if (fileOptions.transpile !== false &&                                                // 35\n        // If you need to exclude a specific file within an app from Babel                // 36\n        // compilation, give it the following file extension: .es5.js                     // 37\n        ! excludedFileExtensionPattern.test(inputFilePath)) {                             // 38\n                                                                                          // 39\n      var targetCouldBeInternetExplorer8 =                                                // 40\n        inputFile.getArch() === \"web.browser\";                                            // 41\n                                                                                          // 42\n      self.extraFeatures = self.extraFeatures || {};                                      // 43\n      if (! self.extraFeatures.hasOwnProperty(\"jscript\")) {                               // 44\n        // Perform some additional transformations to improve                             // 45\n        // compatibility in older browsers (e.g. wrapping named function                  // 46\n        // expressions, per http://kiro.me/blog/nfe_dilemma.html).                        // 47\n        self.extraFeatures.jscript = targetCouldBeInternetExplorer8;                      // 48\n      }                                                                                   // 49\n                                                                                          // 50\n      var babelOptions = Babel.getDefaultOptions(self.extraFeatures);                     // 51\n                                                                                          // 52\n      babelOptions.sourceMap = true;                                                      // 53\n      babelOptions.filename =                                                             // 54\n      babelOptions.sourceFileName = packageName                                           // 55\n        ? \"/packages/\" + packageName + \"/\" + inputFilePath                                // 56\n        : \"/\" + inputFilePath;                                                            // 57\n                                                                                          // 58\n      babelOptions.sourceMapName = babelOptions.filename + \".map\";                        // 59\n                                                                                          // 60\n      try {                                                                               // 61\n        var result = Babel.compile(source, babelOptions);                                 // 62\n      } catch (e) {                                                                       // 63\n        if (e.loc) {                                                                      // 64\n          inputFile.error({                                                               // 65\n            message: e.message,                                                           // 66\n            line: e.loc.line,                                                             // 67\n            column: e.loc.column,                                                         // 68\n          });                                                                             // 69\n                                                                                          // 70\n          return;                                                                         // 71\n        }                                                                                 // 72\n                                                                                          // 73\n        throw e;                                                                          // 74\n      }                                                                                   // 75\n                                                                                          // 76\n      toBeAdded.data = result.code;                                                       // 77\n      toBeAdded.hash = result.hash;                                                       // 78\n      toBeAdded.sourceMap = result.map;                                                   // 79\n    }                                                                                     // 80\n                                                                                          // 81\n    inputFile.addJavaScript(toBeAdded);                                                   // 82\n  });                                                                                     // 83\n};                                                                                        // 84\n                                                                                          // 85\nBCp.setDiskCacheDirectory = function (cacheDir) {                                         // 86\n  Babel.setCacheDir(cacheDir);                                                            // 87\n};                                                                                        // 88\n                                                                                          // 89\n////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\n(function (pkg, symbols) {\n  for (var s in symbols)\n    (s in pkg) || (pkg[s] = symbols[s]);\n})(Package['babel-compiler'] = {}, {\n  Babel: Babel,\n  BabelCompiler: BabelCompiler\n});\n\n})();\n","servePath":"/packages/babel-compiler.js","sourceMap":{"version":3,"sources":["/packages/babel-compiler/babel.js","/packages/babel-compiler/babel-compiler.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+F;;;;;;;;;;;;;;;;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+F","file":"/packages/babel-compiler.js","sourcesContent":["var meteorBabel = Npm.require('meteor-babel');\n\nfunction validateExtraFeatures(extraFeatures) {\n  if (extraFeatures) {\n    check(extraFeatures, {\n      // Modify options to enable ES2015 module syntax.\n      modules: Match.Optional(Boolean),\n      // Modify options to enable async/await syntax powered by Fibers.\n      meteorAsyncAwait: Match.Optional(Boolean),\n      // Modify options to enable async/await syntax powered by Promises and Regenerator.\n      asyncAwait: Match.Optional(Boolean),\n      // Modify options to enable React/JSX syntax.\n      react: Match.Optional(Boolean),\n      // Improve compatibility in older versions of Internet Explorer.\n      jscript: Match.Optional(Boolean)\n    });\n  }\n}\n\n/**\n * Returns a new object containing default options appropriate for\n */\nfunction getDefaultOptions(extraFeatures) {\n  validateExtraFeatures(extraFeatures);\n\n  // See https://github.com/meteor/babel/blob/master/options.js for more\n  // information about what the default options are.\n  var options = meteorBabel.getDefaultOptions(extraFeatures);\n\n  // The sourceMap option should probably be removed from the default\n  // options returned by meteorBabel.getDefaultOptions.\n  delete options.sourceMap;\n\n  return options;\n}\n\nBabel = {\n  getDefaultOptions: getDefaultOptions,\n\n  validateExtraFeatures: validateExtraFeatures,\n\n  compile: function (source, options) {\n    options = options || getDefaultOptions();\n    return meteorBabel.compile(source, options);\n  },\n\n  // Provided for backwards compatibility; prefer Babel.compile.\n  transformMeteor: function (source, extraOptions) {\n    var options = getDefaultOptions();\n\n    if (extraOptions) {\n      if (extraOptions.extraWhitelist) {\n        options.whitelist.push.apply(\n          options.whitelist,\n          extraOptions.extraWhitelist\n        );\n      }\n\n      for (var key in extraOptions) {\n        if (key !== \"extraWhitelist\" &&\n            hasOwnProperty.call(extraOptions, key)) {\n          options[key] = extraOptions[key];\n        }\n      }\n    }\n\n    return meteorBabel.compile(source, options);\n  },\n\n  setCacheDir: function (cacheDir) {\n    meteorBabel.setCacheDir(cacheDir);\n  }\n};\n","/**\n * A compiler that can be instantiated with features and used inside\n * Plugin.registerCompiler\n * @param {Object} extraFeatures The same object that getDefaultOptions takes\n */\nBabelCompiler = function BabelCompiler(extraFeatures) {\n  Babel.validateExtraFeatures(extraFeatures);\n  this.extraFeatures = extraFeatures;\n};\n\nvar BCp = BabelCompiler.prototype;\nvar excludedFileExtensionPattern = /\\.es5\\.js$/i;\n\nBCp.processFilesForTarget = function (inputFiles) {\n  var self = this;\n\n  inputFiles.forEach(function (inputFile) {\n    var source = inputFile.getContentsAsString();\n    var packageName = inputFile.getPackageName();\n    var inputFilePath = inputFile.getPathInPackage();\n    var outputFilePath = inputFilePath;\n    var fileOptions = inputFile.getFileOptions();\n    var toBeAdded = {\n      sourcePath: inputFilePath,\n      path: outputFilePath,\n      data: source,\n      hash: inputFile.getSourceHash(),\n      sourceMap: null,\n      bare: !! fileOptions.bare\n    };\n\n    // If you need to exclude a specific file within a package from Babel\n    // compilation, pass the { transpile: false } options to api.addFiles\n    // when you add that file.\n    if (fileOptions.transpile !== false &&\n        // If you need to exclude a specific file within an app from Babel\n        // compilation, give it the following file extension: .es5.js\n        ! excludedFileExtensionPattern.test(inputFilePath)) {\n\n      var targetCouldBeInternetExplorer8 =\n        inputFile.getArch() === \"web.browser\";\n\n      self.extraFeatures = self.extraFeatures || {};\n      if (! self.extraFeatures.hasOwnProperty(\"jscript\")) {\n        // Perform some additional transformations to improve\n        // compatibility in older browsers (e.g. wrapping named function\n        // expressions, per http://kiro.me/blog/nfe_dilemma.html).\n        self.extraFeatures.jscript = targetCouldBeInternetExplorer8;\n      }\n\n      var babelOptions = Babel.getDefaultOptions(self.extraFeatures);\n\n      babelOptions.sourceMap = true;\n      babelOptions.filename =\n      babelOptions.sourceFileName = packageName\n        ? \"/packages/\" + packageName + \"/\" + inputFilePath\n        : \"/\" + inputFilePath;\n\n      babelOptions.sourceMapName = babelOptions.filename + \".map\";\n\n      try {\n        var result = Babel.compile(source, babelOptions);\n      } catch (e) {\n        if (e.loc) {\n          inputFile.error({\n            message: e.message,\n            line: e.loc.line,\n            column: e.loc.column,\n          });\n\n          return;\n        }\n\n        throw e;\n      }\n\n      toBeAdded.data = result.code;\n      toBeAdded.hash = result.hash;\n      toBeAdded.sourceMap = result.map;\n    }\n\n    inputFile.addJavaScript(toBeAdded);\n  });\n};\n\nBCp.setDiskCacheDirectory = function (cacheDir) {\n  Babel.setCacheDir(cacheDir);\n};\n"]}}]